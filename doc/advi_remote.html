<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD><TITLE></TITLE>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.07">
</HEAD>
<BODY TEXT=black BGCOLOR=white>
<!--HEVEA command line is: /usr/local/bin/hevea -entities -I ../tex -fix macros.hva -o advi_remote.html advi_remote.tex -->
<!--HTMLHEAD-->
<!--ENDHTML-->
<!--PREFIX <ARG ></ARG>-->
<!--CUT DEF section 1 -->
<BR>
<BR>
<!--TOC section Comment contrôler Active-DVI avec une télécommande-->

<H2><A NAME="htoc1">1</A>&nbsp;&nbsp;Comment contrôler Active-DVI avec une télécommande</H2><!--SEC END -->

Sous Linux, le projet www.lirc.org/ <TT>lirc</TT><BR>
<BR>
<A HREF="www.lirc.org"><TT>lirc</TT></A> procure différents types d'interaction
entre une télécommande et votre machine Linux. Vous en découvrirez
toutes les fonctionnalités sur le site de
<A NAME="http://www.lirc.org/"><TT>lirc</TT></A> ...<A HREF="www.lirc.org/"><TT>lirc</TT></A> ...<BR>
<BR>
La distribution actuelle (4/9/2003) de <TT>lirc</TT> se télécharge 
<A HREF="http://prdownloads.sourceforge.net/lirc/lirc-0.6.6.tar.bz2">ici</A>.
Pour faire marcher le système, il faut bien sûr disposer d'un
récepteur IR (Infra-Rouge) sur l'ordinateur.
Encore une fois, le site de <A HREF="www.lirc.org"><TT>lirc</TT></A> donne des pistes.
J'ai personnellement acheté le récepteur IR (Home-Brew) ...<BR>
<BR>
Attention, j'ai réussi à faire ce qui suit avec les bureaux gnome,
blackbox, icewm mais pas KDE (c'est <TT>lirc</TT> qui ne marche pas avec
KDE pour moi).<BR>
<BR>
<!--TOC subsection Installation rapide de <TT>lirc</TT>-->

<H3><A NAME="htoc2">1.1</A>&nbsp;&nbsp;Installation rapide de <TT>lirc</TT></H3><!--SEC END -->

<PRE>
tar xvjf lirc-0.6.6.tar.bz2
cd lirc-0.6.6
./configure
</PRE>
Choisir son capteur IR (pour moi, c'était le choix par défaut).<BR>
<BR>
Ensuite <TT>save conf</TT> &amp; <TT>run configure</TT>.
<PRE>
make (en root)
make install
chmod 666 /dev/li*
</PRE>
Si vous avez le capteur Home-Brew sur port série, il faut ajouter les
2 lignes suivantes dans <TT>/etc/modules.conf</TT>:
<PRE>
alias char-major-61  lirc_serial
options lirc_serial irq=4 io=0x3e8
</PRE>
Si vous n'avez pas ce capteur, je ne sais pas!<BR>
<BR>
<!--TOC subsection Configuration de la télécommande-->

<H3><A NAME="htoc3">1.2</A>&nbsp;&nbsp;Configuration de la télécommande</H3><!--SEC END -->

Maintenant que <TT>lircd</TT> est installé, il faut configurer la télécommande.<BR>
<BR>
Les fichiers de configuration des télécommandes sont disponibles
<A HREF="http://prdownloads.sourceforge.net/lirc/lircrc_config-0.1.1.tar.gz">ici</A>.<BR>
<BR>
Si votre télécommande est dans la liste des télécommandes préconfigurées,
il vous suffit de copier le fichier correspondant dans <TT>/etc/lircd.conf</TT>.<BR>
<BR>
Sinon, il faut configurer les touches de votre télécommande une à une.<BR>
<BR>
Cette configuration se fait à l'aide du programme <EM>irrecord</EM>.
<TT>irrecord</TT> créé un fichier de configuration pour la télécommande qu'il
faudra ensuite renommer en <TT>/etc/lircd.conf</TT>.<BR>
<BR>
Le fichier de configuration associe le signal d'un bouton de votre
télécommande avec une chaîne de caractère (le nom du bouton par
exemple). J'ai défini les boutons suivants sur ma télécommande :
<PRE>
          a1
          2
          3
          afp
          4
          5
          6
          B
          7
          8
          9
          mode
          0
          memo
          scroll
          cancel
          time
          fast\_back
          play
          fast\_forward
          mute
          back
          stop
          forward
          pause
          volume\_up
          volume\_down
</PRE>
<!--TOC subsection Configuration de <TT>lirc</TT> pour Active-DVI-->

<H3><A NAME="htoc4">1.3</A>&nbsp;&nbsp;Configuration de <TT>lirc</TT> pour Active-DVI</H3><!--SEC END -->

Il ne reste plus qu'à configurer le fichier <TT>&nbsp;/.lircrc</TT> qui
spécifie ce que <TT>irxevent</TT> doit exécuter lorsqu'un signal IR est
reçu. À titre d'exemple, voilà mon fichier <TT>&nbsp;/.lircrc</TT>:
<PRE>
begin
        prog = irxevent
        button = stop
        config = Key q CurrentWindow
end

begin
        prog = irxevent
        button = fast_forward
        config = Key n CurrentWindow
end

begin
        prog = irxevent
        button = fast_back
        config = Key p CurrentWindow
end

begin
        prog = irxevent
        button = memo
        config = Key shift-T CurrentWindow
end

begin
        prog = irxevent
        button = mute
        config = Key t CurrentWindow
end
</PRE>
En gros, lorsque <TT>irxevent</TT> est lancé,
<UL><LI>
 si l'on clique sur le bouton ``stop'', tt irxevent envoie le
caractère ``q'' à la fenêtre active.
 <LI>si l'on appuie sur le bouton ``memo'', c'est ``T'' qui est
envoyé.
</UL>
Lors d'une présentation, la fenêtre de Active-DVI est toujours
active et ce mécanime doit marcher! (Je n'ai pas testé avec des films
ou d'autres programmes embarqués qui pourraient ouvrir des fenêtre
par-dessus Active-DVI.)<BR>
<BR>
<!--TOC subsection Mise en oeuvre-->

<H3>Mise en oeuvre</H3><!--SEC END -->

Pour essayer le contrôle à distance, lancez
<PRE>
irxevent &amp;
</PRE>et
<PRE>
advi mon_talk.dvi
</PRE>
On navigue alors avec les boutons <TT>fast_forward</TT> et <TT>fast_back</TT> et l'on fait apparaître la table des matières/thumbnails
avec les boutons <TT>memo</TT> et <TT>mute</TT>.<BR>
<BR>
Joyeuses présentations télécommandées!<BR>
<BR>
<!--HTMLFOOT-->
<!--ENDHTML-->
<!--FOOTER-->
<HR SIZE=2>
<BLOCKQUOTE><EM>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</EM><A HREF="http://pauillac.inria.fr/~maranget/hevea/index.html"><EM>H<FONT SIZE=2><sup>E</sup></FONT>V<FONT SIZE=2><sup>E</sup></FONT>A</EM></A><EM>.
</EM></BLOCKQUOTE>
</BODY>
</HTML>
